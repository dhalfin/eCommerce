{"ast":null,"code":"import * as Actions from './actions';\nexport function loadCatalog(payload) {\n  return {\n    type: Actions.LOAD_CATALOG,\n    payload\n  };\n}\n;\nexport function loadPrices(payload) {\n  return {\n    type: Actions.LOAD_PRICES,\n    payload\n  };\n}\n;\nexport function loadCategories(payload) {\n  return {\n    type: Actions.LOAD_CATEGORIES,\n    payload\n  };\n}\n;\nexport function loadColors(payload) {\n  return {\n    type: Actions.LOAD_COLORS,\n    payload\n  };\n}\n;\nexport function loadBrands(payload) {\n  return {\n    type: Actions.LOAD_BRANDS,\n    payload\n  };\n}\n;\nexport function updateLoading(payload) {\n  return {\n    type: Actions.UPDATE_LOADING,\n    payload\n  };\n}\n;\nexport function updateSortOnPage(payload) {\n  return {\n    type: Actions.UPDATE_SORT_ON_PAGE,\n    payload\n  };\n}\n;\nexport function updateItemOnPage(payload) {\n  return {\n    type: Actions.UPDATE_ITEM_ON_PAGE,\n    payload\n  };\n}\n;\nexport function updateCart(payload) {\n  return {\n    type: Actions.UPDATE_CART,\n    payload\n  };\n}\n;\nexport function updateSum(payload) {\n  return {\n    type: Actions.UPDATE_SUM,\n    payload\n  };\n}\n;\nexport function updatePriceFilter(payload) {\n  return {\n    type: Actions.UPDATE_PRICE_FILTER,\n    payload\n  };\n}\n;\nexport function updateOnPageShopFilter(payload) {\n  return {\n    type: Actions.ON_PAGE_SHOP_FILTER,\n    payload\n  };\n}\n;\nexport function loadNumerator(payload) {\n  return {\n    type: Actions.NUMERATOR,\n    payload\n  };\n}\n;\nexport function uploadSingleImageItem(payload) {\n  return {\n    type: Actions.UPLOAD_SINGLE_IMAGE_ITEM,\n    payload\n  };\n}\n;\nexport function uploadSingleReviewItem(payload) {\n  return {\n    type: Actions.UPLOAD_SINGLE_REVIEW_ITEM,\n    payload\n  };\n}\n;\nexport function activeCarouselChanger(payload) {\n  return {\n    type: Actions.ACTIVE_IMG,\n    payload\n  };\n}\n;\nexport function itemMemoryChecker(payload) {\n  return {\n    type: Actions.ITEM_MEMORY,\n    payload\n  };\n}\n;\nexport function colorFilterUpdater(payload) {\n  return {\n    type: Actions.CURRENT_COLOR_FILTER,\n    payload\n  };\n}\n;\nexport function currentCategoryUpdater(payload) {\n  return {\n    type: Actions.CURRENT_CATEGORY_FILTER,\n    payload\n  };\n}\n;\nexport function uploadDataToStore(actions, key = \"\") {\n  const serverBase = [{\n    url: `http://test-api.ipromote.ru/API/CATALOG/FIND${key}`,\n    requestName: \"catalog\",\n    actions: loadCatalog\n  }, {\n    url: `http://test-api.ipromote.ru/API/CATALOG/RANGE`,\n    requestName: \"prices\",\n    actions: loadPrices\n  }, {\n    url: `http://test-api.ipromote.ru/API/CATEGORY/FIND`,\n    requestName: \"categories\",\n    actions: loadCategories\n  }, {\n    url: `http://test-api.ipromote.ru/API/COLOR/FIND`,\n    requestName: \"colors\",\n    actions: loadColors\n  }, {\n    url: `http://test-api.ipromote.ru/API/BRAND/FIND`,\n    requestName: \"brands\",\n    actions: loadBrands\n  }, {\n    url: `http://test-api.ipromote.ru/API/IMAGE/FIND${key}`,\n    requestName: \"imageItem\",\n    actions: uploadSingleImageItem\n  }, {\n    url: `http://test-api.ipromote.ru/API/REVIEW/FIND${key}`,\n    requestName: \"reviewItem\",\n    actions: uploadSingleReviewItem\n  }];\n  return dispatch => {\n    for (let i = 0; i < serverBase.length; i++) {\n      if (serverBase[i].requestName === actions) {\n        dispatch(updateLoading({\n          [serverBase[i].requestName]: true\n        }));\n        const data = fetch(serverBase[i].url);\n        data.then(data => {\n          return data.json();\n        }).then(data => {\n          dispatch(serverBase[i].actions(data));\n          dispatch(updateLoading({\n            [serverBase[i].requestName]: false\n          }));\n        }).catch(e => {\n          dispatch(updateLoading({\n            [serverBase[i].requestName]: false\n          }));\n          console.log(\"ERROR while loading data from url\", e);\n        });\n      }\n    }\n  };\n}\n;","map":{"version":3,"sources":["D:/pcs_frontend/khalfin_dinar_pcs_frontend_21_01_homeworks/project/src/store/action_creatores.js"],"names":["Actions","loadCatalog","payload","type","LOAD_CATALOG","loadPrices","LOAD_PRICES","loadCategories","LOAD_CATEGORIES","loadColors","LOAD_COLORS","loadBrands","LOAD_BRANDS","updateLoading","UPDATE_LOADING","updateSortOnPage","UPDATE_SORT_ON_PAGE","updateItemOnPage","UPDATE_ITEM_ON_PAGE","updateCart","UPDATE_CART","updateSum","UPDATE_SUM","updatePriceFilter","UPDATE_PRICE_FILTER","updateOnPageShopFilter","ON_PAGE_SHOP_FILTER","loadNumerator","NUMERATOR","uploadSingleImageItem","UPLOAD_SINGLE_IMAGE_ITEM","uploadSingleReviewItem","UPLOAD_SINGLE_REVIEW_ITEM","activeCarouselChanger","ACTIVE_IMG","itemMemoryChecker","ITEM_MEMORY","colorFilterUpdater","CURRENT_COLOR_FILTER","currentCategoryUpdater","CURRENT_CATEGORY_FILTER","uploadDataToStore","actions","key","serverBase","url","requestName","dispatch","i","length","data","fetch","then","json","catch","e","console","log"],"mappings":"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","sourcesContent":["import * as Actions from './actions';\r\n\r\nexport function loadCatalog(payload) {\r\n\treturn {\r\n\t\ttype: Actions.LOAD_CATALOG,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function loadPrices(payload) {\r\n\treturn {\r\n\t\ttype: Actions.LOAD_PRICES,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function loadCategories(payload) {\r\n\treturn {\r\n\t\ttype: Actions.LOAD_CATEGORIES,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function loadColors(payload) {\r\n\treturn {\r\n\t\ttype: Actions.LOAD_COLORS,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function loadBrands(payload) {\r\n\treturn {\r\n\t\ttype: Actions.LOAD_BRANDS,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function updateLoading(payload) {\r\n\treturn {\r\n\t\ttype: Actions.UPDATE_LOADING,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function updateSortOnPage(payload) {\r\n\treturn {\r\n\t\ttype: Actions.UPDATE_SORT_ON_PAGE,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function updateItemOnPage(payload) {\r\n\treturn {\r\n\t\ttype: Actions.UPDATE_ITEM_ON_PAGE,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function updateCart(payload) {\r\n\treturn {\r\n\t\ttype: Actions.UPDATE_CART,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function updateSum(payload) {\r\n\treturn {\r\n\t\ttype: Actions.UPDATE_SUM,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function updatePriceFilter(payload) {\r\n\treturn {\r\n\t\ttype: Actions.UPDATE_PRICE_FILTER,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function updateOnPageShopFilter(payload) {\r\n\treturn {\r\n\t\ttype: Actions.ON_PAGE_SHOP_FILTER,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function loadNumerator(payload) {\r\n\treturn {\r\n\t\ttype: Actions.NUMERATOR,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function uploadSingleImageItem(payload) {\r\n\treturn {\r\n\t\ttype: Actions.UPLOAD_SINGLE_IMAGE_ITEM,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function uploadSingleReviewItem(payload) {\r\n\treturn {\r\n\t\ttype: Actions.UPLOAD_SINGLE_REVIEW_ITEM,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function activeCarouselChanger(payload) {\r\n\treturn {\r\n\t\ttype: Actions.ACTIVE_IMG,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function itemMemoryChecker(payload) {\r\n\treturn {\r\n\t\ttype: Actions.ITEM_MEMORY,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function colorFilterUpdater(payload) {\r\n\treturn {\r\n\t\ttype: Actions.CURRENT_COLOR_FILTER,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function currentCategoryUpdater(payload) {\r\n\treturn {\r\n\t\ttype: Actions.CURRENT_CATEGORY_FILTER,\r\n\t\tpayload,\r\n\t};\r\n};\r\n\r\nexport function uploadDataToStore(actions, key = \"\") {\r\n\r\n\tconst serverBase = [\r\n\t\t{\r\n\t\t\turl: `http://test-api.ipromote.ru/API/CATALOG/FIND${key}`,\r\n\t\t\trequestName: \"catalog\",\r\n\t\t\tactions: loadCatalog,\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: `http://test-api.ipromote.ru/API/CATALOG/RANGE`,\r\n\t\t\trequestName: \"prices\",\r\n\t\t\tactions: loadPrices,\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: `http://test-api.ipromote.ru/API/CATEGORY/FIND`,\r\n\t\t\trequestName: \"categories\",\r\n\t\t\tactions: loadCategories,\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: `http://test-api.ipromote.ru/API/COLOR/FIND`,\r\n\t\t\trequestName: \"colors\",\r\n\t\t\tactions: loadColors,\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: `http://test-api.ipromote.ru/API/BRAND/FIND`,\r\n\t\t\trequestName: \"brands\",\r\n\t\t\tactions: loadBrands,\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: `http://test-api.ipromote.ru/API/IMAGE/FIND${key}`,\r\n\t\t\trequestName: \"imageItem\",\r\n\t\t\tactions: uploadSingleImageItem,\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: `http://test-api.ipromote.ru/API/REVIEW/FIND${key}`,\r\n\t\t\trequestName: \"reviewItem\",\r\n\t\t\tactions: uploadSingleReviewItem,\r\n\t\t},\r\n\t]\r\n\r\n\treturn (dispatch) => {\r\n\r\n\t\tfor (let i = 0; i < serverBase.length; i++) {\r\n\r\n\t\t\tif (serverBase[i].requestName === actions) {\r\n\t\t\t\tdispatch(updateLoading({ [serverBase[i].requestName]: true }));\r\n\t\t\t\tconst data = fetch(serverBase[i].url);\r\n\t\t\t\tdata.then((data) => {\r\n\t\t\t\t\treturn data.json();\r\n\t\t\t\t}).then((data) => {\r\n\t\t\t\t\tdispatch(serverBase[i].actions(data));\r\n\t\t\t\t\tdispatch(updateLoading({ [serverBase[i].requestName]: false }));\r\n\t\t\t\t}).catch((e) => {\r\n\t\t\t\t\tdispatch(updateLoading({ [serverBase[i].requestName]: false }));\r\n\t\t\t\t\tconsole.log(\"ERROR while loading data from url\", e);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n};"]},"metadata":{},"sourceType":"module"}