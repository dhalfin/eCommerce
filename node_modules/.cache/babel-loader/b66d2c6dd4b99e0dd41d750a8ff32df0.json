{"ast":null,"code":"var _jsxFileName = \"D:\\\\pcs_frontend\\\\khalfin_dinar_pcs_frontend_21_01_homeworks\\\\project\\\\eCommerce\\\\src\\\\pages\\\\home.jsx\";\nimport React from 'react';\nimport Spinner from \"../components/spinner\";\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport * as URL from '../router/url';\nimport { uploadDataToStore, updateOnPageShopFilter } from '../store/action_creatores';\nimport * as PropTypes from 'prop-types';\nHomePage.propTypes = {\n  catalog: PropTypes.array,\n  catalogLoading: PropTypes.bool,\n  uploadDataToStore: PropTypes.func,\n  onShopPage: PropTypes.bool,\n  updateOnPageShopFilter: PropTypes.func\n};\n\nfunction HomePage(props) {\n  const {\n    catalog,\n    catalogLoading,\n    uploadDataToStore,\n    onShopPage,\n    updateOnPageShopFilter\n  } = props;\n\n  if (onShopPage) {\n    uploadDataToStore(\"catalog\"); // иначе при включённых фильтрах корзина не отображает элементы, которые не загружены с сервера из-за фильтров\n\n    updateOnPageShopFilter(false); // говорим всем остальным, что мы больше не на странице shop и каталог по-прежнему доступен в полном объёме.\n  }\n\n  ;\n\n  function allProductsRender() {\n    if (catalogLoading) {\n      return /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }\n      });\n    }\n\n    ;\n\n    if (catalog && catalog.length) {\n      return catalog.map(item => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"single-products-catagory clearfix\",\n          key: item.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          className: \"App-link\",\n          to: `${URL.PRODUCT}/${item.id}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          style: {\n            marginTop: \"140px\"\n          },\n          src: `http://test-api.ipromote.ru/img/${item.img_url}`,\n          alt: item.title,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 33\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"hover-content\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"line\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 33\n          }\n        }), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 33\n          }\n        }, \"From $\", item.price), /*#__PURE__*/React.createElement(\"h4\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 33\n          }\n        }, item.title)));\n      });\n    }\n\n    ;\n  }\n\n  ;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products-catagories-area clearfix\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"amado-pro-catagory clearfix\",\n    style: {\n      display: \"flex\",\n      flexWrap: \"wrap\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, allProductsRender()));\n}\n\n;\n\nconst mapStateToProps = store => {\n  return {\n    catalog: store.app.catalog.data,\n    catalogLoading: store.app.isLoading.catalog || false,\n    onShopPage: store.app.onShopPage,\n    singleImageItem: store.app.singleImageItem\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    uploadDataToStore: (actions, key) => dispatch(uploadDataToStore(actions, key)),\n    updateOnPageShopFilter: bool => dispatch(updateOnPageShopFilter(bool))\n  };\n};\n\nexport default React.memo(connect(mapStateToProps, mapDispatchToProps)(HomePage));","map":{"version":3,"sources":["D:/pcs_frontend/khalfin_dinar_pcs_frontend_21_01_homeworks/project/eCommerce/src/pages/home.jsx"],"names":["React","Spinner","connect","Link","URL","uploadDataToStore","updateOnPageShopFilter","PropTypes","HomePage","propTypes","catalog","array","catalogLoading","bool","func","onShopPage","props","allProductsRender","length","map","item","id","PRODUCT","marginTop","img_url","title","price","display","flexWrap","mapStateToProps","store","app","data","isLoading","singleImageItem","mapDispatchToProps","dispatch","actions","key","memo"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,KAAKC,GAAZ,MAAqB,eAArB;AACA,SAASC,iBAAT,EAA4BC,sBAA5B,QAA0D,2BAA1D;AACA,OAAO,KAAKC,SAAZ,MAA2B,YAA3B;AAEAC,QAAQ,CAACC,SAAT,GAAqB;AACjBC,EAAAA,OAAO,EAAEH,SAAS,CAACI,KADF;AAEjBC,EAAAA,cAAc,EAAEL,SAAS,CAACM,IAFT;AAGjBR,EAAAA,iBAAiB,EAAEE,SAAS,CAACO,IAHZ;AAIjBC,EAAAA,UAAU,EAAER,SAAS,CAACM,IAJL;AAKjBP,EAAAA,sBAAsB,EAAEC,SAAS,CAACO;AALjB,CAArB;;AAQA,SAASN,QAAT,CAAkBQ,KAAlB,EAAyB;AAErB,QAAM;AACFN,IAAAA,OADE;AAEFE,IAAAA,cAFE;AAGFP,IAAAA,iBAHE;AAIFU,IAAAA,UAJE;AAKFT,IAAAA;AALE,MAMFU,KANJ;;AAQA,MAAID,UAAJ,EAAgB;AACZV,IAAAA,iBAAiB,CAAC,SAAD,CAAjB,CADY,CACkB;;AAC9BC,IAAAA,sBAAsB,CAAC,KAAD,CAAtB,CAFY,CAEmB;AAClC;;AAAA;;AAED,WAASW,iBAAT,GAA6B;AAEzB,QAAIL,cAAJ,EAAoB;AAChB,0BAAQ,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAR;AACH;;AAAA;;AAED,QAAIF,OAAO,IAAIA,OAAO,CAACQ,MAAvB,EAA+B;AAE3B,aAAOR,OAAO,CAACS,GAAR,CAAaC,IAAD,IAAU;AAEzB,4BACI;AAAK,UAAA,SAAS,EAAC,mCAAf;AAEI,UAAA,GAAG,EAAEA,IAAI,CAACC,EAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAIQ,oBAAC,IAAD;AACI,UAAA,SAAS,EAAC,UADd;AAEI,UAAA,EAAE,EAAG,GAAEjB,GAAG,CAACkB,OAAQ,IAAGF,IAAI,CAACC,EAAG,EAFlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAII;AACI,UAAA,KAAK,EAAE;AAAEE,YAAAA,SAAS,EAAE;AAAb,WADX;AAEI,UAAA,GAAG,EAAG,mCAAkCH,IAAI,CAACI,OAAQ,EAFzD;AAGI,UAAA,GAAG,EAAEJ,IAAI,CAACK,KAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAJJ,CAJR,eAcQ;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACI;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAUL,IAAI,CAACM,KAAf,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKN,IAAI,CAACK,KAAV,CAHJ,CAdR,CADJ;AAsBH,OAxBM,CAAP;AAyBH;;AAAA;AACJ;;AAAA;AAED,sBACI;AAAK,IAAA,SAAS,EAAC,mCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,6BAAf;AACK,IAAA,KAAK,EAAE;AACHE,MAAAA,OAAO,EAAE,MADN;AAEHC,MAAAA,QAAQ,EAAE;AAFP,KADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKKX,iBAAiB,EALtB,CADJ,CADJ;AAWH;;AAAA;;AAED,MAAMY,eAAe,GAAIC,KAAD,IAAW;AAC/B,SAAO;AACHpB,IAAAA,OAAO,EAAEoB,KAAK,CAACC,GAAN,CAAUrB,OAAV,CAAkBsB,IADxB;AAEHpB,IAAAA,cAAc,EAAEkB,KAAK,CAACC,GAAN,CAAUE,SAAV,CAAoBvB,OAApB,IAA+B,KAF5C;AAGHK,IAAAA,UAAU,EAAEe,KAAK,CAACC,GAAN,CAAUhB,UAHnB;AAIHmB,IAAAA,eAAe,EAAEJ,KAAK,CAACC,GAAN,CAAUG;AAJxB,GAAP;AAMH,CAPD;;AASA,MAAMC,kBAAkB,GAAIC,QAAD,IAAc;AACrC,SAAO;AACH/B,IAAAA,iBAAiB,EAAE,CAACgC,OAAD,EAAUC,GAAV,KAAkBF,QAAQ,CAAC/B,iBAAiB,CAACgC,OAAD,EAAUC,GAAV,CAAlB,CAD1C;AAEHhC,IAAAA,sBAAsB,EAAGO,IAAD,IAAUuB,QAAQ,CAAC9B,sBAAsB,CAACO,IAAD,CAAvB;AAFvC,GAAP;AAIH,CALD;;AAOA,eAAeb,KAAK,CAACuC,IAAN,CAAWrC,OAAO,CAAC2B,eAAD,EAAkBM,kBAAlB,CAAP,CAA6C3B,QAA7C,CAAX,CAAf","sourcesContent":["import React from 'react';\r\nimport Spinner from \"../components/spinner\";\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport * as URL from '../router/url';\r\nimport { uploadDataToStore, updateOnPageShopFilter } from '../store/action_creatores';\r\nimport * as PropTypes from 'prop-types';\r\n\r\nHomePage.propTypes = {\r\n    catalog: PropTypes.array,\r\n    catalogLoading: PropTypes.bool,\r\n    uploadDataToStore: PropTypes.func,\r\n    onShopPage: PropTypes.bool,\r\n    updateOnPageShopFilter: PropTypes.func,\r\n};\r\n\r\nfunction HomePage(props) {\r\n\r\n    const {\r\n        catalog,\r\n        catalogLoading,\r\n        uploadDataToStore,\r\n        onShopPage,\r\n        updateOnPageShopFilter,\r\n    } = props;\r\n\r\n    if (onShopPage) {\r\n        uploadDataToStore(\"catalog\"); // иначе при включённых фильтрах корзина не отображает элементы, которые не загружены с сервера из-за фильтров\r\n        updateOnPageShopFilter(false); // говорим всем остальным, что мы больше не на странице shop и каталог по-прежнему доступен в полном объёме.\r\n    };\r\n\r\n    function allProductsRender() {\r\n\r\n        if (catalogLoading) {\r\n            return (<Spinner />);\r\n        };\r\n\r\n        if (catalog && catalog.length) {\r\n\r\n            return catalog.map((item) => {\r\n\r\n                return (\r\n                    <div className=\"single-products-catagory clearfix\"\r\n\r\n                        key={item.id}\r\n                    >\r\n                            <Link\r\n                                className=\"App-link\"\r\n                                to={`${URL.PRODUCT}/${item.id}`}\r\n                            >\r\n                                <img\r\n                                    style={{ marginTop: \"140px\" }}\r\n                                    src={`http://test-api.ipromote.ru/img/${item.img_url}`}\r\n                                    alt={item.title}\r\n                                />\r\n                            </Link>\r\n                            <div className=\"hover-content\">\r\n                                <div className=\"line\"></div>\r\n                                <p>From ${item.price}</p>\r\n                                <h4>{item.title}</h4>\r\n                            </div>\r\n                    </div>\r\n                );\r\n            });\r\n        };\r\n    };\r\n\r\n    return (\r\n        <div className=\"products-catagories-area clearfix\">\r\n            <div className=\"amado-pro-catagory clearfix\"\r\n                 style={{\r\n                     display: \"flex\",\r\n                     flexWrap: \"wrap\",\r\n                 }}>\r\n                {allProductsRender()}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (store) => {\r\n    return {\r\n        catalog: store.app.catalog.data,\r\n        catalogLoading: store.app.isLoading.catalog || false,\r\n        onShopPage: store.app.onShopPage,\r\n        singleImageItem: store.app.singleImageItem,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        uploadDataToStore: (actions, key) => dispatch(uploadDataToStore(actions, key)),\r\n        updateOnPageShopFilter: (bool) => dispatch(updateOnPageShopFilter(bool)),\r\n    };\r\n};\r\n\r\nexport default React.memo(connect(mapStateToProps, mapDispatchToProps)(HomePage));"]},"metadata":{},"sourceType":"module"}